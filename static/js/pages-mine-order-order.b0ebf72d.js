(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-order-order"],{"0684":function(t,e,n){"use strict";n.r(e);var i=n("bdaf"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},"0957":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"navList"},t._l(t.navList,(function(e,i){return n("v-uni-view",{key:e,staticClass:"item",class:i==t.currentIndex?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.check(i)}}},[t._v(t._s(e))])})),1),4!=t.currentIndex?n("v-uni-view",{staticClass:"orderList"},[0==t.showList.length?n("v-uni-view",{},[t._v("暂无数据")]):t._e(),t._l(t.showList,(function(e){return n("v-uni-view",{key:e.order.id,staticClass:"item"},[n("v-uni-view",{staticClass:"orderSn"},[t._v("订单编号:"+t._s(e.order.orderSn)),n("v-uni-view",{staticClass:"status"},[t._v(t._s(t._f("statusText")(e.order.status)))])],1),t._l(e.items,(function(e){return n("v-uni-view",{key:e.id,staticClass:"good"},[n("v-uni-image",{attrs:{src:e.productPic},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toGoodsInfo(e.productId)}}}),n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"ltop"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(e.productName))]),n("v-uni-view",{staticClass:"ownPrice"},[t._v("￥"+t._s(e.productPrice))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"orderId"},[t._v("编号: "+t._s(e.orderId))]),n("v-uni-view",[t._v("× "+t._s(e.productQuantity))])],1),n("v-uni-view",{staticClass:"line"},[t._v("规格:")]),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"desc"},t._l(JSON.parse(e.productAttr),(function(e){return n("v-uni-text",{key:e.id},[t._v(t._s(e.key)+" : "+t._s(e.value))])})),1)],1),2==t.currentIndex?n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"returns"},[n("v-uni-text",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.returns(e.orderId,e.id)}}},[t._v("退货")])],1)],1):t._e()],1)],1)})),n("v-uni-view",{staticClass:"bottom"},[n("v-uni-view",{staticClass:"timeAprice"},[t._v("时间: "+t._s(e.order.createTime)),n("v-uni-view",[t._v("合计:￥"+t._s(e.order.totalAmount))])],1),n("v-uni-view",[0==t.currentIndex?n("v-uni-view",{staticClass:"btns"},[n("v-uni-button",{attrs:{plain:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.cancel(e.order.orderSn)}}},[t._v("取消订单")]),n("v-uni-button",{attrs:{plain:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit(e.items)}}},[t._v("付款")])],1):t._e(),2==t.currentIndex?n("v-uni-view",{staticClass:"btns"},[n("v-uni-button",{attrs:{plain:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submitReceve(e.order.id)}}},[t._v("确认收货")])],1):t._e(),3==t.currentIndex?n("v-uni-view",{staticClass:"btns"},[n("v-uni-button",{staticClass:"delBtn",attrs:{plain:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.delOrder(e.order.id)}}},[t._v("订单已关闭,删除记录")])],1):t._e()],1)],1)],2)}))],2):t._e(),4==t.currentIndex?n("v-uni-view",{staticClass:"orderList"},[0==t.returnList.length?n("v-uni-view",{},[t._v("暂无数据")]):t._e(),t._l(t.returnList,(function(e){return n("v-uni-view",{key:e.id,staticClass:"item"},[n("v-uni-view",{staticClass:"orderSn"},[t._v("订单编号:"+t._s(e.orderSn)),n("v-uni-view",{staticClass:"status",class:2==e.status||3==e.status?"active":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toServe(e.id)}}},[t._v(t._s(t._f("orderProcessText")(e.status)))])],1),n("v-uni-view",{staticClass:"good"},[n("v-uni-image",{attrs:{src:e.productPic},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toGoodsInfo(e.productId)}}}),n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"ltop"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(e.productName))]),n("v-uni-view",{staticClass:"ownPrice"},[t._v("￥"+t._s(e.productPrice))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"orderId"},[t._v("编号: "+t._s(e.orderId))]),n("v-uni-view",[t._v("× "+t._s(e.productQuantity))])],1),n("v-uni-view",{staticClass:"line"},[t._v("规格:")]),n("v-uni-view",{staticClass:"line"},[n("v-uni-view",{staticClass:"desc"},t._l(JSON.parse(e.productAttr),(function(e){return n("v-uni-text",{key:e.id},[t._v(t._s(e.key)+" : "+t._s(e.value))])})),1)],1)],1)],1),n("v-uni-view",{staticClass:"bottom"},[n("v-uni-view",{staticClass:"timeAprice"},[t._v("时间: "+t._s(e.createTime)),n("v-uni-view",[t._v("合计:￥"+t._s(e.returnAmount))])],1)],1)],1)}))],2):t._e()],1)},o=[]},"0eb7":function(t,e,n){var i=n("6200");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("20088c2c",i,!0,{sourceMap:!1,shadowMode:!1})},"5ff3":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.orderReturnApplys=e.receiveDone=e._clearOrderFocus=e.cancelOrder=e.findAllOrders=void 0;var r=i(n("db6f")),o=function(){return(0,r.default)({url:"/lejuClient/order/findAllOrders"})};e.findAllOrders=o;var a=function(t){return(0,r.default)({url:"/lejuClient/order/cancelOrder/".concat(t),method:"POST"})};e.cancelOrder=a;var s=function(t){return(0,r.default)({url:"/lejuClient/order/_clearOrderFocus/?orderId=".concat(t),method:"POST"})};e._clearOrderFocus=s;var d=function(t){return(0,r.default)({url:"/lejuClient/order/receiveDone",method:"POST",data:{orderId:t}})};e.receiveDone=d;var u=function(t){return(0,r.default)({url:"/lejuClient/orderReturn/orderReturnApplys"})};e.orderReturnApplys=u},6200:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.navList[data-v-421fb7b8]{height:%?62?%;padding-top:%?14?%;color:#fff;font-size:%?30?%;display:flex;flex-wrap:nowrap;justify-content:space-around;align-items:center;background-color:#354e44}.navList .item.active[data-v-421fb7b8]{color:#dd524d}.orderList[data-v-421fb7b8]{padding:%?30?% 0}.orderList .item[data-v-421fb7b8]{width:%?672?%;margin:%?36?% auto;padding:%?36?%;border-radius:%?36?%;background-color:#fff;font-size:%?24?%;color:#3e3e3e;box-sizing:border-box}.orderList .item .orderSn[data-v-421fb7b8]{padding-bottom:%?30?%;border-bottom:1Px solid #f1ece7;display:flex;justify-content:space-between;white-space:nowrap}.orderList .item .orderSn .active[data-v-421fb7b8]{color:red}.orderList .item .good[data-v-421fb7b8]{padding:%?30?% 0;display:flex;justify-content:first baseline}.orderList .item .good uni-image[data-v-421fb7b8]{width:%?162?%;height:%?162?%;flex-shrink:0}.orderList .item .good .info[data-v-421fb7b8]{width:%?410?%;margin-left:%?28?%}.orderList .item .good .info .ltop[data-v-421fb7b8]{width:100%;display:flex;justify-content:space-between;align-items:center;font-size:%?26?%;line-height:%?74?%}.orderList .item .good .info .ltop .name[data-v-421fb7b8]{width:70%;text-overflow:ellipsis;overflow:hidden}.orderList .item .good .info .ltop .ownPrice[data-v-421fb7b8]{text-align:end;width:30%}.orderList .item .good .info .line[data-v-421fb7b8]{margin-top:%?4?%;font-size:%?22?%;color:#8d8d8d;line-height:%?30?%;display:flex;justify-content:space-between;align-items:center}.orderList .item .good .info .line .returns[data-v-421fb7b8]{width:100%;margin-top:%?10?%;display:flex;justify-content:end}.orderList .item .good .info .line uni-text[data-v-421fb7b8]{margin-right:%?10?%}.orderList .item .timeAprice[data-v-421fb7b8]{height:%?36?%;padding-top:%?14?%;border-top:1Px solid #f1ece7;font-size:%?26?%;display:flex;justify-content:space-between;white-space:nowrap}.orderList .item .btns[data-v-421fb7b8]{height:%?54?%;margin-top:%?20?%;display:flex;justify-content:flex-end}.orderList .item .btns uni-button[data-v-421fb7b8]{width:%?124?%;height:%?50?%;margin:0 0 0 %?32?%;padding:0;text-align:center;font-size:%?26?%;line-height:%?50?%;box-sizing:initial}.orderList .item .btns .delBtn[data-v-421fb7b8]{width:%?260?%;padding:0 %?26?%;border-color:#dd524d;box-sizing:initial}',""]),t.exports=e},7125:function(t,e,n){"use strict";n.r(e);var i=n("0957"),r=n("0684");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("d155");var a,s=n("f0c5"),d=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"421fb7b8",null,!1,i["a"],a);e["default"]=d.exports},9900:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.addPreOrder=e.findAllCartItem=void 0;var r=i(n("db6f")),o=function(){return(0,r.default)({url:"/lejuClient/cart/findAllCartItem"})};e.findAllCartItem=o;var a=function(t){return(0,r.default)({url:"/lejuClient/order/addPreOrder",method:"POST",data:t})};e.addPreOrder=a},bdaf:function(t,e,n){"use strict";n("99af"),n("4de4"),n("4160"),n("a9e3"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5ff3"),r=n("9900"),o={data:function(){return{orderList:[],returnList:[],currentIndex:0,navList:["待付款","已付款","已发货","已收货","售后"]}},computed:{showList:function(){var t=this;return this.orderList.filter((function(e){return 3==t.currentIndex?3==e.order.status||4==e.order.status:e.order.status==t.currentIndex}))}},methods:{check:function(t){this.currentIndex=t,0==this.returnList.length&&this.init()},cancel:function(t){var e=this;(0,i.cancelOrder)(t).then((function(t){2e4==t.data.code?(e.init(),uni.showToast({icon:"none",title:"订单取消成功!"})):uni.showToast({icon:"none",title:"订单取消失败!"})}))},toGoodsInfo:function(t){uni.navigateTo({url:"/pages/kind/goodsInfo/goodsInfo?id=".concat(t)})},submit:function(t){var e=[];t.forEach((function(t){var n={};n.cartId=t.id,n.productId=t.productId,n.productQuantity=t.productQuantity,n.productSkuId=t.productSkuId,e.push(n)})),(0,r.addPreOrder)({orderItemList:e}).then((function(t){2e4==t.data.code?uni.navigateTo({url:"/pages/mine/cart/pay/pay?orderId=".concat(t.data.data.orderId)}):uni.showToast({icon:"none",title:"购买失败!"})}))},delOrder:function(t){var e=this;(0,i._clearOrderFocus)(t).then((function(t){2e4==t.data.code?(e.init(),uni.showToast({icon:"none",title:"删除成功!"})):uni.showToast({icon:"none",title:"删除失败!"})}))},submitReceve:function(t){var e=this;(0,i.receiveDone)(t).then((function(t){2e4==t.data.code?(e.init(),uni.showToast({icon:"none",title:"确认收货成功!"})):uni.showToast({icon:"none",title:"确认收货失败!"})}))},returns:function(t,e){uni.navigateTo({url:"./returnOrder/returnOrder?orderId=".concat(t,"&id=").concat(e)})},toServe:function(t){uni.navigateTo({url:"./serve/serve?id=".concat(t)})},init:function(){var t=this;4!=this.currentIndex?(0,i.findAllOrders)().then((function(e){t.orderList=e.data.data.orderList})):(0,i.orderReturnApplys)().then((function(e){t.returnList=e.data.data.items}))}},filters:{statusText:function(t){return 0==t?"未付款":1==t?"确认付款,等待发货":2==t?"已发货":3==t?"已收货":4==t?"已退单":"无效订单"},orderProcessText:function(t){var e="等待处理";switch(JSON.stringify(t)){case"0":e="等待处理";break;case"1":e="确认退货,等待用户发货";break;case"2":e="已退款";break;case"3":e="已拒绝";break;case"9":e="拒绝退货";break;default:break}return e}},onLoad:function(t){this.currentIndex=Number(t.index),this.init()},onShow:function(){this.init()}};e.default=o},d155:function(t,e,n){"use strict";var i=n("0eb7"),r=n.n(i);r.a},db6f:function(t,e,n){"use strict";n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="";i="https://leju.bufan.cloud";var r=function(t){return new Promise((function(e,n){wx.request({url:i+t.url,data:t.data,method:t.method?t.method.toUpperCase():"GET",timeout:5e3,header:{token:uni.getStorageSync("token")},success:function(t){e(t)}})}))},o=r;e.default=o}}]);